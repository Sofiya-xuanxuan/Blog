## js的类型判断

js的数据类型包括undefined、null、boolean、number、string、object、symbol

### typeof

```bash
console.log(typeof undefined)#undefined
console.log(typeof null)#object
console.log(typeof true)#boolean
console.log(typeof 43)#number
console.log(typeof 'hhhh')#string
console.log(typeof {a:1})#object
console.log(typeof Symbol())#symbol
function a(){}
console.log(typeof a)#function
var date=new Date()
var error=new Error()
console.log(typeof date)#object
console.log(typeof error)#object
```

> typeof不能正确的判断对象的类型

### Object.prototype.toString

```bash
var number=1#[object Number]
var string='123'#[object String]
var boolean=true#[object Boolean]
var und=undefined#[object Undefined]
var nul=null#[object Null]
var obj={a:1}#[object Object]
var array=[1,2,3]#[object Array]
var date=new Date()#[object Date]
var error=new Error()#[object Error]
var reg=/a/g#[object RegExp]
var func=function a(){}#[object Function]
console.log(Object.prototype.toString.call(Math)); # [object Math]
console.log(Object.prototype.toString.call(JSON)); # [object JSON]
function a() {
    console.log(Object.prototype.toString.call(arguments)); # [object Arguments]
}
a();
```

> 推荐使用该方法来判断
>
> 使用该方法我们可以封装一个isType方法来对类型进行判断

```bash
let isType = type => obj => {
  return Object.prototype.toString.call( obj ) === '[object ' + type + ']';
}
```

或者

```bash
var type = function (o){
  var s = Object.prototype.toString.call(o);
  return s.match(/\[object (.*?)\]/)[1].toLowerCase();
};

['Null',
 'Undefined',
 'Object',
 'Array',
 'String',
 'Number',
 'Boolean',
 'Function',
 'RegExp'
].forEach(function (t) {
  type['is' + t] = function (o) {
    return type(o) === t.toLowerCase();
  };
});

type.isObject({}) // true
type.isNumber(NaN) // true
type.isRegExp(/abc/) // true
```

### Instanceof

```bash
console.log(12 instanceof Number)  // false
console.log('22' instanceof String)  // false
console.log([] instanceof Array)   // true
console.log({a: 1} instanceof Object) // true
console.log(true instanceof Boolean) // false
console.log(json instanceof Object) // true
function a() {}
console.log(new Date() instanceof Date)  //true
console.log(a instanceof Function)  // true
console.log(reg instanceof RegExp) //true
console.log(error instanceof Error) // true
console.log(null instanceof Object) // false
console.log(undefined instanceof Object) // false
```

> instanceof可以准确的判断复杂数据类型，但是不能正确判断基本数据类型

### constructor

```bash
console.log([].constructor === Array)   // true
function a() {}
console.log(a.constructor === Function)   // true
console.log(12.constructor === Number)  // true
console.log('22'.constructor === String)  // true
console.log([] .constructor ===  Array)   // true
console.log({a: 1}.constructor ===  Object) // true
console.log(true.constructor === Boolean) // true
console.log(json.constructor === Object) // true
console.log((new Date()).constructor === Date)   // true
console.log(reg.constructor ===  RegExp) //true
console.log(error.constructor === Error) // true
```

> constructor也不是保险的，因为constructor属性是可以被修改的，会导致检测出的结果不正确



















